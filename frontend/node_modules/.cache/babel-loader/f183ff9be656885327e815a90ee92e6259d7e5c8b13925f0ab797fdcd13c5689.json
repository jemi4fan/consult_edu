{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{chatAPI}from'../../services/api';import Card from'../../components/ui/Card';import Button from'../../components/ui/Button';import Input from'../../components/ui/Input';import Modal from'../../components/ui/Modal';import toast from'react-hot-toast';import{ChatIcon,UserIcon,PaperAirplaneIcon,ClockIcon,CheckCircleIcon,EyeIcon,TrashIcon,SearchIcon}from'@heroicons/react/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatPage=()=>{var _chatsData$chats,_selectedChat$user_na,_messagesData$message;const queryClient=useQueryClient();const[selectedChat,setSelectedChat]=useState(null);const[messageText,setMessageText]=useState('');const[searchTerm,setSearchTerm]=useState('');const[showDeleteModal,setShowDeleteModal]=useState(false);const[chatToDelete,setChatToDelete]=useState(null);const messagesEndRef=useRef(null);// Fetch all chats\nconst{data:chatsData,isLoading:chatsLoading}=useQuery(['chats',searchTerm],()=>chatAPI.getChats(),{select:response=>response.data.data,refetchInterval:5000// Refresh every 5 seconds\n});// Fetch messages for selected chat\nconst{data:messagesData,isLoading:messagesLoading}=useQuery(['chatMessages',selectedChat===null||selectedChat===void 0?void 0:selectedChat._id],()=>chatAPI.getChatMessages(selectedChat===null||selectedChat===void 0?void 0:selectedChat._id),{select:response=>response.data.data,enabled:!!(selectedChat!==null&&selectedChat!==void 0&&selectedChat._id),refetchInterval:2000// Refresh every 2 seconds for real-time updates\n});// Send message mutation\nconst sendMessageMutation=useMutation(_ref=>{let{chatId,message}=_ref;return chatAPI.sendMessage(chatId,{message});},{onSuccess:()=>{queryClient.invalidateQueries(['chatMessages',selectedChat===null||selectedChat===void 0?void 0:selectedChat.id]);queryClient.invalidateQueries('chats');setMessageText('');scrollToBottom();},onError:error=>{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to send message');}});// Delete chat mutation\nconst deleteChatMutation=useMutation(chatId=>chatAPI.deleteChat(chatId),{onSuccess:()=>{queryClient.invalidateQueries('chats');setShowDeleteModal(false);setChatToDelete(null);if((selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chatToDelete){setSelectedChat(null);}toast.success('Chat deleted successfully!');},onError:error=>{var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to delete chat');}});// Auto-scroll to bottom when new messages arrive\nconst scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messagesData]);const handleSendMessage=e=>{e.preventDefault();if(messageText.trim()&&selectedChat){sendMessageMutation.mutate({chatId:selectedChat.id,message:messageText.trim()});}};const handleChatSelect=chat=>{setSelectedChat(chat);};const handleDeleteClick=chat=>{setChatToDelete(chat.id);setShowDeleteModal(true);};const handleDeleteChat=()=>{deleteChatMutation.mutate(chatToDelete);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};const formatTime=dateString=>{return new Date(dateString).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const getUnreadCount=chat=>{return chat.unread_count||0;};const getLastMessagePreview=chat=>{if(!chat.last_message)return'No messages yet';const message=chat.last_message.message;return message.length>50?message.substring(0,50)+'...':message;};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage customer support conversations\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/3 border-r border-gray-200 bg-gray-50 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(SearchIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Search chats...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:chatsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 space-y-3\",children:[1,2,3].map(i=>/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/2\"})]},i))}):(chatsData===null||chatsData===void 0?void 0:(_chatsData$chats=chatsData.chats)===null||_chatsData$chats===void 0?void 0:_chatsData$chats.length)>0?chatsData.chats.map(chat=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors \".concat((selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chat.id?'bg-indigo-50 border-indigo-200':''),onClick:()=>handleChatSelect(chat),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:chat.user_name||'Unknown User'}),getUnreadCount(chat)>0&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-indigo-600 rounded-full\",children:getUnreadCount(chat)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 truncate\",children:getLastMessagePreview(chat)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:chat.last_message?formatTime(chat.last_message.created_at):formatTime(chat.created_at)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1 ml-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:e=>{e.stopPropagation();handleDeleteClick(chat);},className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})})]})},chat.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(ChatIcon,{className:\"h-8 w-8 mx-auto mb-2 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No chats found\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 bg-indigo-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-white\",children:((_selectedChat$user_na=selectedChat.user_name)===null||_selectedChat$user_na===void 0?void 0:_selectedChat$user_na.charAt(0))||'U'})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:selectedChat.user_name||'Unknown User'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Chat started: \",formatDate(selectedChat.created_at)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(selectedChat.status==='active'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:selectedChat.status})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-4\",children:[messagesLoading?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[1,2,3].map(i=>/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/2\"})]},i))}):(messagesData===null||messagesData===void 0?void 0:(_messagesData$message=messagesData.messages)===null||_messagesData$message===void 0?void 0:_messagesData$message.length)>0?messagesData.messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.sender_type==='admin'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-2 rounded-lg \".concat(message.sender_type==='admin'?'bg-indigo-600 text-white':'bg-gray-200 text-gray-900'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:message.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(message.sender_type==='admin'?'text-indigo-200':'text-gray-500'),children:formatTime(message.created_at)})]})},message.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500\",children:[/*#__PURE__*/_jsx(ChatIcon,{className:\"h-8 w-8 mx-auto mb-2 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No messages yet. Start the conversation!\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-t border-gray-200 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSendMessage,className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Type your message...\",value:messageText,onChange:e=>setMessageText(e.target.value),disabled:sendMessageMutation.isLoading})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!messageText.trim()||sendMessageMutation.isLoading,children:/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-4 w-4\"})})]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ChatIcon,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Select a chat\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Choose a conversation from the sidebar to start messaging.\"})]})})})]}),/*#__PURE__*/_jsx(Modal,{isOpen:showDeleteModal,onClose:()=>setShowDeleteModal(false),title:\"Delete Chat\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Are you sure you want to delete this chat? This action cannot be undone and will remove all messages.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowDeleteModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleDeleteChat,loading:deleteChatMutation.isLoading,children:\"Delete\"})]})]})})]});};export default ChatPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useQuery","useMutation","useQueryClient","chatAPI","Card","Button","Input","Modal","toast","ChatIcon","UserIcon","PaperAirplaneIcon","ClockIcon","CheckCircleIcon","EyeIcon","TrashIcon","SearchIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatPage","_chatsData$chats","_selectedChat$user_na","_messagesData$message","queryClient","selectedChat","setSelectedChat","messageText","setMessageText","searchTerm","setSearchTerm","showDeleteModal","setShowDeleteModal","chatToDelete","setChatToDelete","messagesEndRef","data","chatsData","isLoading","chatsLoading","getChats","select","response","refetchInterval","messagesData","messagesLoading","_id","getChatMessages","enabled","sendMessageMutation","_ref","chatId","message","sendMessage","onSuccess","invalidateQueries","id","scrollToBottom","onError","error","_error$response","_error$response$data","deleteChatMutation","deleteChat","success","_error$response2","_error$response2$data","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","e","preventDefault","trim","mutate","handleChatSelect","chat","handleDeleteClick","handleDeleteChat","formatDate","dateString","Date","toLocaleDateString","formatTime","toLocaleTimeString","hour","minute","getUnreadCount","unread_count","getLastMessagePreview","last_message","length","substring","className","children","type","placeholder","value","onChange","target","map","i","chats","concat","onClick","user_name","created_at","variant","size","stopPropagation","charAt","status","messages","sender_type","ref","onSubmit","disabled","isOpen","onClose","title","loading"],"sources":["/home/alikibret/Project/Adds/Bolt/New/frontend/src/pages/admin/ChatPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { chatAPI } from '../../services/api';\nimport Card from '../../components/ui/Card';\nimport Button from '../../components/ui/Button';\nimport Input from '../../components/ui/Input';\nimport Modal from '../../components/ui/Modal';\nimport toast from 'react-hot-toast';\nimport {\n  ChatIcon,\n  UserIcon,\n  PaperAirplaneIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  EyeIcon,\n  TrashIcon,\n  SearchIcon\n} from '@heroicons/react/outline';\n\nconst ChatPage = () => {\n  const queryClient = useQueryClient();\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messageText, setMessageText] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [chatToDelete, setChatToDelete] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  // Fetch all chats\n  const { data: chatsData, isLoading: chatsLoading } = useQuery(\n    ['chats', searchTerm],\n    () => chatAPI.getChats(),\n    {\n      select: (response) => response.data.data,\n      refetchInterval: 5000, // Refresh every 5 seconds\n    }\n  );\n\n  // Fetch messages for selected chat\n  const { data: messagesData, isLoading: messagesLoading } = useQuery(\n    ['chatMessages', selectedChat?._id],\n    () => chatAPI.getChatMessages(selectedChat?._id),\n    {\n      select: (response) => response.data.data,\n      enabled: !!selectedChat?._id,\n      refetchInterval: 2000, // Refresh every 2 seconds for real-time updates\n    }\n  );\n\n  // Send message mutation\n  const sendMessageMutation = useMutation(\n    ({ chatId, message }) => chatAPI.sendMessage(chatId, { message }),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['chatMessages', selectedChat?.id]);\n        queryClient.invalidateQueries('chats');\n        setMessageText('');\n        scrollToBottom();\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.message || 'Failed to send message');\n      }\n    }\n  );\n\n  // Delete chat mutation\n  const deleteChatMutation = useMutation(\n    (chatId) => chatAPI.deleteChat(chatId),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('chats');\n        setShowDeleteModal(false);\n        setChatToDelete(null);\n        if (selectedChat?.id === chatToDelete) {\n          setSelectedChat(null);\n        }\n        toast.success('Chat deleted successfully!');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.message || 'Failed to delete chat');\n      }\n    }\n  );\n\n  // Auto-scroll to bottom when new messages arrive\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messagesData]);\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (messageText.trim() && selectedChat) {\n      sendMessageMutation.mutate({\n        chatId: selectedChat.id,\n        message: messageText.trim()\n      });\n    }\n  };\n\n  const handleChatSelect = (chat) => {\n    setSelectedChat(chat);\n  };\n\n  const handleDeleteClick = (chat) => {\n    setChatToDelete(chat.id);\n    setShowDeleteModal(true);\n  };\n\n  const handleDeleteChat = () => {\n    deleteChatMutation.mutate(chatToDelete);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  const formatTime = (dateString) => {\n    return new Date(dateString).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const getUnreadCount = (chat) => {\n    return chat.unread_count || 0;\n  };\n\n  const getLastMessagePreview = (chat) => {\n    if (!chat.last_message) return 'No messages yet';\n    const message = chat.last_message.message;\n    return message.length > 50 ? message.substring(0, 50) + '...' : message;\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200 px-6 py-4\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Messages</h1>\n        <p className=\"text-gray-600 mt-1\">Manage customer support conversations</p>\n      </div>\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Chat List Sidebar */}\n        <div className=\"w-1/3 border-r border-gray-200 bg-gray-50 flex flex-col\">\n          {/* Search */}\n          <div className=\"p-4 border-b border-gray-200\">\n            <div className=\"relative\">\n              <SearchIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Search chats...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          {/* Chat List */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {chatsLoading ? (\n              <div className=\"p-4 space-y-3\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"animate-pulse\">\n                    <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                    <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                  </div>\n                ))}\n              </div>\n            ) : chatsData?.chats?.length > 0 ? (\n              chatsData.chats.map((chat) => (\n                <div\n                  key={chat.id}\n                  className={`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors ${\n                    selectedChat?.id === chat.id ? 'bg-indigo-50 border-indigo-200' : ''\n                  }`}\n                  onClick={() => handleChatSelect(chat)}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center space-x-2 mb-1\">\n                        <h3 className=\"text-sm font-semibold text-gray-900 truncate\">\n                          {chat.user_name || 'Unknown User'}\n                        </h3>\n                        {getUnreadCount(chat) > 0 && (\n                          <span className=\"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-indigo-600 rounded-full\">\n                            {getUnreadCount(chat)}\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-600 truncate\">\n                        {getLastMessagePreview(chat)}\n                      </p>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {chat.last_message ? formatTime(chat.last_message.created_at) : formatTime(chat.created_at)}\n                      </p>\n                    </div>\n                    <div className=\"flex items-center space-x-1 ml-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDeleteClick(chat);\n                        }}\n                        className=\"text-red-600 hover:text-red-700\"\n                      >\n                        <TrashIcon className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"p-4 text-center text-gray-500\">\n                <ChatIcon className=\"h-8 w-8 mx-auto mb-2 text-gray-400\" />\n                <p>No chats found</p>\n              </div>\n            )}\n          </div>\n            </div>\n\n        {/* Chat Messages Area */}\n        <div className=\"flex-1 flex flex-col\">\n          {selectedChat ? (\n            <>\n              {/* Chat Header */}\n              <div className=\"bg-white border-b border-gray-200 px-6 py-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"h-10 w-10 bg-indigo-500 rounded-full flex items-center justify-center\">\n                      <span className=\"text-sm font-medium text-white\">\n                        {selectedChat.user_name?.charAt(0) || 'U'}\n                      </span>\n                    </div>\n                    <div>\n                      <h2 className=\"text-lg font-semibold text-gray-900\">\n                        {selectedChat.user_name || 'Unknown User'}\n                      </h2>\n                      <p className=\"text-sm text-gray-500\">\n                        Chat started: {formatDate(selectedChat.created_at)}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                      selectedChat.status === 'active' \n                        ? 'bg-green-100 text-green-800' \n                        : 'bg-gray-100 text-gray-800'\n                    }`}>\n                      {selectedChat.status}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n                {messagesLoading ? (\n                  <div className=\"space-y-4\">\n                    {[1, 2, 3].map((i) => (\n                      <div key={i} className=\"animate-pulse\">\n                        <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                        <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                      </div>\n                    ))}\n                  </div>\n                ) : messagesData?.messages?.length > 0 ? (\n                  messagesData.messages.map((message) => (\n                    <div\n                      key={message.id}\n                      className={`flex ${message.sender_type === 'admin' ? 'justify-end' : 'justify-start'}`}\n                    >\n                      <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                        message.sender_type === 'admin'\n                          ? 'bg-indigo-600 text-white'\n                          : 'bg-gray-200 text-gray-900'\n                      }`}>\n                        <p className=\"text-sm\">{message.message}</p>\n                        <p className={`text-xs mt-1 ${\n                          message.sender_type === 'admin' ? 'text-indigo-200' : 'text-gray-500'\n                        }`}>\n                          {formatTime(message.created_at)}\n                        </p>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"text-center text-gray-500\">\n                    <ChatIcon className=\"h-8 w-8 mx-auto mb-2 text-gray-400\" />\n                    <p>No messages yet. Start the conversation!</p>\n                  </div>\n                )}\n                <div ref={messagesEndRef} />\n                </div>\n\n              {/* Message Input */}\n              <div className=\"bg-white border-t border-gray-200 px-6 py-4\">\n                <form onSubmit={handleSendMessage} className=\"flex space-x-4\">\n                  <div className=\"flex-1\">\n                    <Input\n                      type=\"text\"\n                      placeholder=\"Type your message...\"\n                      value={messageText}\n                      onChange={(e) => setMessageText(e.target.value)}\n                      disabled={sendMessageMutation.isLoading}\n                    />\n                  </div>\n                  <Button \n                    type=\"submit\"\n                    disabled={!messageText.trim() || sendMessageMutation.isLoading}\n                  >\n                    <PaperAirplaneIcon className=\"h-4 w-4\" />\n                  </Button>\n                </form>\n              </div>\n            </>\n          ) : (\n            <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\n              <div className=\"text-center\">\n                <ChatIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Select a chat</h3>\n                <p className=\"text-gray-600\">\n                  Choose a conversation from the sidebar to start messaging.\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title=\"Delete Chat\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-600\">\n            Are you sure you want to delete this chat? This action cannot be undone and will remove all messages.\n          </p>\n          <div className=\"flex justify-end space-x-3\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"danger\"\n              onClick={handleDeleteChat}\n              loading={deleteChatMutation.isLoading}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}