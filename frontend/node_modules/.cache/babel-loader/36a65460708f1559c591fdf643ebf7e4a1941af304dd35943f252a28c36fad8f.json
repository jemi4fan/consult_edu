{"ast":null,"code":"import _objectSpread from\"/home/alikibret/Project/Adds/Bolt/New/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{Link,useNavigate,useSearchParams}from'react-router-dom';import{adsAPI}from'../../services/api';import Card from'../../components/ui/Card';import Button from'../../components/ui/Button';import Input from'../../components/ui/Input';import Modal from'../../components/ui/Modal';import toast from'react-hot-toast';import{SearchIcon,PlusIcon,EyeIcon,PencilIcon,TrashIcon,CalendarIcon,GlobeIcon,UserIcon,ChartBarIcon,CheckCircleIcon,XCircleIcon,ClockIcon}from'@heroicons/react/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdsPage=()=>{var _adsData$ads;const[searchParams,setSearchParams]=useSearchParams();const navigate=useNavigate();const queryClient=useQueryClient();const[searchTerm,setSearchTerm]=useState(searchParams.get('search')||'');const[showDetailsModal,setShowDetailsModal]=useState(false);const[showDeleteModal,setShowDeleteModal]=useState(false);const[showCreateModal,setShowCreateModal]=useState(false);const[selectedAd,setSelectedAd]=useState(null);// Form state for creating new ad\nconst[formData,setFormData]=useState({title:'',content:'',target_audience:'all',placement:'homepage',start_date:'',end_date:'',is_active:true,priority:'normal'});// Fetch ads with search and pagination\nconst{data:adsData,isLoading,error}=useQuery(['ads',searchTerm],()=>adsAPI.getAds({search:searchTerm,limit:20,sort:'-createdAt'}),{select:response=>response.data.data,keepPreviousData:true});// Create ad mutation\nconst createAdMutation=useMutation(adData=>adsAPI.createAd(adData),{onSuccess:()=>{queryClient.invalidateQueries('ads');setShowCreateModal(false);setFormData({title:'',content:'',target_audience:'all',placement:'homepage',start_date:'',end_date:'',is_active:true,priority:'normal'});toast.success('Ad created successfully!');},onError:error=>{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to create ad');}});// Update ad mutation\nconst updateAdMutation=useMutation(_ref=>{let{id,data}=_ref;return adsAPI.updateAd(id,data);},{onSuccess:()=>{queryClient.invalidateQueries('ads');setShowDetailsModal(false);setSelectedAd(null);toast.success('Ad updated successfully!');},onError:error=>{var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to update ad');}});// Delete ad mutation\nconst deleteAdMutation=useMutation(id=>adsAPI.deleteAd(id),{onSuccess:()=>{queryClient.invalidateQueries('ads');setShowDeleteModal(false);setSelectedAd(null);toast.success('Ad deleted successfully!');},onError:error=>{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to delete ad');}});const handleSearch=e=>{e.preventDefault();setSearchParams({search:searchTerm});};const handleViewDetails=ad=>{setSelectedAd(ad);setShowDetailsModal(true);};const handleDeleteClick=ad=>{setSelectedAd(ad);setShowDeleteModal(true);};const handleCreateAd=()=>{setShowCreateModal(true);};const handleFormChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};const handleSubmitAd=e=>{e.preventDefault();createAdMutation.mutate(formData);};const handleUpdateAd=adData=>{updateAdMutation.mutate({id:selectedAd._id,data:adData});};const handleDeleteAd=()=>{deleteAdMutation.mutate(selectedAd._id);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};const getStatusColor=isActive=>{return isActive?'bg-green-100 text-green-800':'bg-red-100 text-red-800';};const getPriorityColor=priority=>{switch(priority){case'high':return'bg-red-100 text-red-800';case'medium':return'bg-yellow-100 text-yellow-800';case'low':return'bg-blue-100 text-blue-800';default:return'bg-gray-100 text-gray-800';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Ads Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage promotional advertisements and banners\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:handleCreateAd,className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add New Ad\"})]})]}),/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(SearchIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Search ads...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10\"})]})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"outline\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-6\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[1,2,3].map(i=>/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-1/2 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-200 rounded w-full\"})]})},i))}):error?/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-red-600\",children:[\"Error loading ads: \",error.message]})}):(adsData===null||adsData===void 0?void 0:(_adsData$ads=adsData.ads)===null||_adsData$ads===void 0?void 0:_adsData$ads.length)>0?adsData.ads.map(ad=>{var _ad$target_audience;return/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:ad.title}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(ad.is_active)),children:ad.is_active?'Active':'Inactive'}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getPriorityColor(ad.priority)),children:ad.priority})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[ad.content.substring(0,150),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(GlobeIcon,{className:\"h-4 w-4 mr-2\"}),\"Category: \",ad.category]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-4 w-4 mr-2\"}),\"Target: \",((_ad$target_audience=ad.target_audience)===null||_ad$target_audience===void 0?void 0:_ad$target_audience.join(', '))||'All']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-4 w-4 mr-2\"}),\"Duration: \",formatDate(ad.start_date),\" - \",formatDate(ad.end_date)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Views: \",ad.view_count||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Clicks: \",ad.click_count||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Type: \",ad.type]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Created: \",formatDate(ad.createdAt)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleViewDetails(ad),children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleViewDetails(ad),children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleDeleteClick(ad),className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})]})},ad._id);}):/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No ads found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:searchTerm?'Try adjusting your search criteria.':'No ads have been created yet.'}),!searchTerm&&/*#__PURE__*/_jsx(Button,{onClick:handleCreateAd,className:\"mt-4\",children:\"Create Your First Ad\"})]})})}),/*#__PURE__*/_jsx(Modal,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false),title:\"Create New Ad\",size:\"lg\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitAd,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Title *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"title\",value:formData.title,onChange:handleFormChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Content *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",value:formData.content,onChange:handleFormChange,rows:4,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Target Audience\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"target_audience\",value:formData.target_audience,onChange:handleFormChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Users\"}),/*#__PURE__*/_jsx(\"option\",{value:\"applicants\",children:\"Applicants Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"staff\",children:\"Staff Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin Only\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Placement\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"placement\",value:formData.placement,onChange:handleFormChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"homepage\",children:\"Homepage\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dashboard\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jobs\",children:\"Jobs Page\"}),/*#__PURE__*/_jsx(\"option\",{value:\"scholarships\",children:\"Scholarships Page\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sidebar\",children:\"Sidebar\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(Input,{type:\"date\",name:\"start_date\",value:formData.start_date,onChange:handleFormChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(Input,{type:\"date\",name:\"end_date\",value:formData.end_date,onChange:handleFormChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"priority\",value:formData.priority,onChange:handleFormChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"normal\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"is_active\",checked:formData.is_active,onChange:handleFormChange,className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-900\",children:\"Active\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",onClick:()=>setShowCreateModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",loading:createAdMutation.isLoading,children:\"Create Ad\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showDetailsModal,onClose:()=>setShowDetailsModal(false),title:\"Ad Details\",size:\"lg\",children:selectedAd&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Ad Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Title\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedAd.title})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(selectedAd.is_active)),children:selectedAd.is_active?'Active':'Inactive'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Placement\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedAd.placement})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Target Audience\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedAd.target_audience})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getPriorityColor(selectedAd.priority)),children:selectedAd.priority})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Created\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:formatDate(selectedAd.createdAt)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Content\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 mt-1\",children:selectedAd.content})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Performance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-indigo-600\",children:selectedAd.view_count||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Views\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:selectedAd.click_count||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Clicks\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[selectedAd.click_count&&selectedAd.view_count?(selectedAd.click_count/selectedAd.view_count*100).toFixed(1):0,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"CTR\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowDetailsModal(false),children:\"Close\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleUpdateAd({is_active:!selectedAd.is_active}),children:selectedAd.is_active?'Deactivate':'Activate'})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showDeleteModal,onClose:()=>setShowDeleteModal(false),title:\"Delete Ad\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Are you sure you want to delete \\\"\",selectedAd===null||selectedAd===void 0?void 0:selectedAd.title,\"\\\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowDeleteModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleDeleteAd,loading:deleteAdMutation.isLoading,children:\"Delete\"})]})]})})]});};export default AdsPage;","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","Link","useNavigate","useSearchParams","adsAPI","Card","Button","Input","Modal","toast","SearchIcon","PlusIcon","EyeIcon","PencilIcon","TrashIcon","CalendarIcon","GlobeIcon","UserIcon","ChartBarIcon","CheckCircleIcon","XCircleIcon","ClockIcon","jsx","_jsx","jsxs","_jsxs","AdsPage","_adsData$ads","searchParams","setSearchParams","navigate","queryClient","searchTerm","setSearchTerm","get","showDetailsModal","setShowDetailsModal","showDeleteModal","setShowDeleteModal","showCreateModal","setShowCreateModal","selectedAd","setSelectedAd","formData","setFormData","title","content","target_audience","placement","start_date","end_date","is_active","priority","data","adsData","isLoading","error","getAds","search","limit","sort","select","response","keepPreviousData","createAdMutation","adData","createAd","onSuccess","invalidateQueries","success","onError","_error$response","_error$response$data","message","updateAdMutation","_ref","id","updateAd","_error$response2","_error$response2$data","deleteAdMutation","deleteAd","_error$response3","_error$response3$data","handleSearch","e","preventDefault","handleViewDetails","ad","handleDeleteClick","handleCreateAd","handleFormChange","name","value","type","checked","target","prev","_objectSpread","handleSubmitAd","mutate","handleUpdateAd","_id","handleDeleteAd","formatDate","dateString","Date","toLocaleDateString","getStatusColor","isActive","getPriorityColor","className","children","onClick","onSubmit","placeholder","onChange","variant","map","i","ads","length","_ad$target_audience","concat","substring","category","join","view_count","click_count","createdAt","size","isOpen","onClose","required","rows","loading","toFixed"],"sources":["/home/alikibret/Project/Adds/Bolt/New/frontend/src/pages/admin/AdsPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom';\nimport { adsAPI } from '../../services/api';\nimport Card from '../../components/ui/Card';\nimport Button from '../../components/ui/Button';\nimport Input from '../../components/ui/Input';\nimport Modal from '../../components/ui/Modal';\nimport toast from 'react-hot-toast';\nimport {\n  SearchIcon,\n  PlusIcon,\n  EyeIcon,\n  PencilIcon,\n  TrashIcon,\n  CalendarIcon,\n  GlobeIcon,\n  UserIcon,\n  ChartBarIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon\n} from '@heroicons/react/outline';\n\nconst AdsPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  \n  const [searchTerm, setSearchTerm] = useState(searchParams.get('search') || '');\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [selectedAd, setSelectedAd] = useState(null);\n\n  // Form state for creating new ad\n  const [formData, setFormData] = useState({\n    title: '',\n    content: '',\n    target_audience: 'all',\n    placement: 'homepage',\n    start_date: '',\n    end_date: '',\n    is_active: true,\n    priority: 'normal'\n  });\n\n  // Fetch ads with search and pagination\n  const { data: adsData, isLoading, error } = useQuery(\n    ['ads', searchTerm],\n    () => adsAPI.getAds({ \n      search: searchTerm,\n      limit: 20,\n      sort: '-createdAt'\n    }),\n    {\n      select: (response) => response.data.data,\n      keepPreviousData: true,\n    }\n  );\n\n  // Create ad mutation\n  const createAdMutation = useMutation(\n    (adData) => adsAPI.createAd(adData),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('ads');\n        setShowCreateModal(false);\n        setFormData({\n          title: '',\n          content: '',\n          target_audience: 'all',\n          placement: 'homepage',\n          start_date: '',\n          end_date: '',\n          is_active: true,\n          priority: 'normal'\n        });\n        toast.success('Ad created successfully!');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.message || 'Failed to create ad');\n      }\n    }\n  );\n\n  // Update ad mutation\n  const updateAdMutation = useMutation(\n    ({ id, data }) => adsAPI.updateAd(id, data),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('ads');\n        setShowDetailsModal(false);\n        setSelectedAd(null);\n        toast.success('Ad updated successfully!');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.message || 'Failed to update ad');\n      }\n    }\n  );\n\n  // Delete ad mutation\n  const deleteAdMutation = useMutation(\n    (id) => adsAPI.deleteAd(id),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('ads');\n        setShowDeleteModal(false);\n        setSelectedAd(null);\n        toast.success('Ad deleted successfully!');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.message || 'Failed to delete ad');\n      }\n    }\n  );\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    setSearchParams({ search: searchTerm });\n  };\n\n  const handleViewDetails = (ad) => {\n    setSelectedAd(ad);\n    setShowDetailsModal(true);\n  };\n\n  const handleDeleteClick = (ad) => {\n    setSelectedAd(ad);\n    setShowDeleteModal(true);\n  };\n\n  const handleCreateAd = () => {\n    setShowCreateModal(true);\n  };\n\n  const handleFormChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSubmitAd = (e) => {\n    e.preventDefault();\n    createAdMutation.mutate(formData);\n  };\n\n  const handleUpdateAd = (adData) => {\n    updateAdMutation.mutate({ id: selectedAd._id, data: adData });\n  };\n\n  const handleDeleteAd = () => {\n    deleteAdMutation.mutate(selectedAd._id);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  const getStatusColor = (isActive) => {\n    return isActive \n      ? 'bg-green-100 text-green-800' \n      : 'bg-red-100 text-red-800';\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high':\n        return 'bg-red-100 text-red-800';\n      case 'medium':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'low':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Ads Management</h1>\n          <p className=\"text-gray-600 mt-1\">Manage promotional advertisements and banners</p>\n        </div>\n        <Button onClick={handleCreateAd} className=\"flex items-center space-x-2\">\n          <PlusIcon className=\"h-4 w-4\" />\n          <span>Add New Ad</span>\n        </Button>\n      </div>\n\n      {/* Search and Filters */}\n      <Card className=\"p-6\">\n        <form onSubmit={handleSearch} className=\"flex space-x-4\">\n          <div className=\"flex-1\">\n          <div className=\"relative\">\n              <SearchIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n            <Input\n                type=\"text\"\n                placeholder=\"Search ads...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n          </div>\n          <Button type=\"submit\" variant=\"outline\">\n            Search\n          </Button>\n        </form>\n      </Card>\n\n      {/* Ads List */}\n      <div className=\"grid grid-cols-1 gap-6\">\n        {isLoading ? (\n          <div className=\"space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <Card key={i} className=\"p-6\">\n                <div className=\"animate-pulse\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2 mb-4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-full\"></div>\n                </div>\n              </Card>\n            ))}\n          </div>\n        ) : error ? (\n          <Card className=\"p-6\">\n            <div className=\"text-center text-red-600\">\n              Error loading ads: {error.message}\n            </div>\n          </Card>\n        ) : adsData?.ads?.length > 0 ? (\n          adsData.ads.map((ad) => (\n            <Card key={ad._id} className=\"p-6\">\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-3 mb-2\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\n                      {ad.title}\n                    </h3>\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(ad.is_active)}`}>\n                      {ad.is_active ? 'Active' : 'Inactive'}\n                    </span>\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getPriorityColor(ad.priority)}`}>\n                      {ad.priority}\n                    </span>\n                  </div>\n                  \n                  <p className=\"text-gray-600 mb-4\">\n                    {ad.content.substring(0, 150)}...\n                  </p>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                    <div className=\"flex items-center text-sm text-gray-600\">\n                      <GlobeIcon className=\"h-4 w-4 mr-2\" />\n                      Category: {ad.category}\n                </div>\n                    <div className=\"flex items-center text-sm text-gray-600\">\n                      <UserIcon className=\"h-4 w-4 mr-2\" />\n                      Target: {ad.target_audience?.join(', ') || 'All'}\n                  </div>\n                    <div className=\"flex items-center text-sm text-gray-600\">\n                      <CalendarIcon className=\"h-4 w-4 mr-2\" />\n                      Duration: {formatDate(ad.start_date)} - {formatDate(ad.end_date)}\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n                    <span>Views: {ad.view_count || 0}</span>\n                    <span>Clicks: {ad.click_count || 0}</span>\n                    <span>Type: {ad.type}</span>\n                    <span>Created: {formatDate(ad.createdAt)}</span>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center space-x-2 ml-4\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleViewDetails(ad)}\n                  >\n                    <EyeIcon className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleViewDetails(ad)}\n                  >\n                    <PencilIcon className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleDeleteClick(ad)}\n                    className=\"text-red-600 hover:text-red-700\"\n                  >\n                    <TrashIcon className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n          </Card>\n          ))\n        ) : (\n          <Card className=\"p-6\">\n            <div className=\"text-center py-8\">\n              <ChartBarIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No ads found</h3>\n              <p className=\"text-gray-600\">\n                {searchTerm ? 'Try adjusting your search criteria.' : 'No ads have been created yet.'}\n              </p>\n              {!searchTerm && (\n                <Button onClick={handleCreateAd} className=\"mt-4\">\n                  Create Your First Ad\n                    </Button>\n              )}\n            </div>\n          </Card>\n        )}\n      </div>\n\n      {/* Create Ad Modal */}\n      <Modal\n        isOpen={showCreateModal}\n        onClose={() => setShowCreateModal(false)}\n        title=\"Create New Ad\"\n        size=\"lg\"\n      >\n        <form onSubmit={handleSubmitAd} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Title *\n            </label>\n            <Input\n              type=\"text\"\n              name=\"title\"\n              value={formData.title}\n              onChange={handleFormChange}\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Content *\n            </label>\n            <textarea\n              name=\"content\"\n              value={formData.content}\n              onChange={handleFormChange}\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              required\n            />\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Target Audience\n              </label>\n              <select\n                name=\"target_audience\"\n                value={formData.target_audience}\n                onChange={handleFormChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                <option value=\"all\">All Users</option>\n                <option value=\"applicants\">Applicants Only</option>\n                <option value=\"staff\">Staff Only</option>\n                <option value=\"admin\">Admin Only</option>\n              </select>\n          </div>\n\n          <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Placement\n            </label>\n              <select\n                name=\"placement\"\n                value={formData.placement}\n                onChange={handleFormChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                <option value=\"homepage\">Homepage</option>\n                <option value=\"dashboard\">Dashboard</option>\n                <option value=\"jobs\">Jobs Page</option>\n                <option value=\"scholarships\">Scholarships Page</option>\n                <option value=\"sidebar\">Sidebar</option>\n              </select>\n            </div>\n                </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Start Date\n              </label>\n              <Input\n                type=\"date\"\n                name=\"start_date\"\n                value={formData.start_date}\n                onChange={handleFormChange}\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                End Date\n              </label>\n              <Input\n                type=\"date\"\n                name=\"end_date\"\n                value={formData.end_date}\n                onChange={handleFormChange}\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Priority\n            </label>\n              <select\n                name=\"priority\"\n                value={formData.priority}\n                onChange={handleFormChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                <option value=\"low\">Low</option>\n                <option value=\"normal\">Normal</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"high\">High</option>\n              </select>\n                </div>\n            \n            <div className=\"flex items-center\">\n                <input\n                type=\"checkbox\"\n                name=\"is_active\"\n                checked={formData.is_active}\n                onChange={handleFormChange}\n                className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n              />\n              <label className=\"ml-2 block text-sm text-gray-900\">\n                Active\n              </label>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-3\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => setShowCreateModal(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              loading={createAdMutation.isLoading}\n            >\n              Create Ad\n            </Button>\n          </div>\n        </form>\n      </Modal>\n\n      {/* Ad Details Modal */}\n      <Modal\n        isOpen={showDetailsModal}\n        onClose={() => setShowDetailsModal(false)}\n        title=\"Ad Details\"\n        size=\"lg\"\n      >\n        {selectedAd && (\n          <div className=\"space-y-6\">\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Ad Information</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Title</label>\n                  <p className=\"text-sm text-gray-900\">{selectedAd.title}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Status</label>\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(selectedAd.is_active)}`}>\n                    {selectedAd.is_active ? 'Active' : 'Inactive'}\n                  </span>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Placement</label>\n                  <p className=\"text-sm text-gray-900\">{selectedAd.placement}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Target Audience</label>\n                  <p className=\"text-sm text-gray-900\">{selectedAd.target_audience}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Priority</label>\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getPriorityColor(selectedAd.priority)}`}>\n                    {selectedAd.priority}\n                  </span>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Created</label>\n                  <p className=\"text-sm text-gray-900\">{formatDate(selectedAd.createdAt)}</p>\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <label className=\"block text-sm font-medium text-gray-700\">Content</label>\n                <p className=\"text-sm text-gray-900 mt-1\">{selectedAd.content}</p>\n              </div>\n            </div>\n\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-indigo-600\">{selectedAd.view_count || 0}</p>\n                  <p className=\"text-sm text-gray-600\">Views</p>\n                </div>\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-green-600\">{selectedAd.click_count || 0}</p>\n                  <p className=\"text-sm text-gray-600\">Clicks</p>\n                </div>\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-blue-600\">\n                    {selectedAd.click_count && selectedAd.view_count \n                      ? ((selectedAd.click_count / selectedAd.view_count) * 100).toFixed(1)\n                      : 0}%\n                  </p>\n                  <p className=\"text-sm text-gray-600\">CTR</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setShowDetailsModal(false)}\n              >\n                Close\n              </Button>\n              <Button\n                onClick={() => handleUpdateAd({ is_active: !selectedAd.is_active })}\n              >\n                {selectedAd.is_active ? 'Deactivate' : 'Activate'}\n              </Button>\n            </div>\n          </div>\n        )}\n      </Modal>\n\n      {/* Delete Confirmation Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title=\"Delete Ad\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-600\">\n            Are you sure you want to delete \"{selectedAd?.title}\"? This action cannot be undone.\n          </p>\n          <div className=\"flex justify-end space-x-3\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"danger\"\n              onClick={handleDeleteAd}\n              loading={deleteAdMutation.isLoading}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default AdsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}